<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admission | SEMS</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Poppins", sans-serif;
      }

      .input-group {
        position: relative;
      }

      .input-label {
        position: absolute;
        top: 12px;
        left: 16px;
        color: #6b7280;
        font-size: 0.95rem;
        pointer-events: none;
        transition: all 0.2s ease-in-out;
      }

      input:focus + .input-label,
      input:not(:placeholder-shown) + .input-label,
      textarea:focus + .input-label,
      textarea:not(:placeholder-shown) + .input-label {
        top: -8px;
        left: 12px;
        background: white;
        color: #2563eb;
        font-size: 0.75rem;
        padding: 0 4px;
      }
    </style>
  </head>

  <body
    class="bg-gradient-to-br from-blue-50 via-indigo-50 to-white min-h-screen"
  >
    <!-- Header -->
    <header
      class="fixed top-0 left-0 w-full bg-white shadow-md z-50 border-b border-blue-100"
    >
      <div
        class="container mx-auto flex justify-between items-center p-4 max-w-7xl"
      >
        <a
          href="/"
          class="flex items-center space-x-3 group transition-all duration-300"
        >
          <img
            src="images.png"
            alt="SEMS Logo"
            class="h-10 w-10 object-contain rounded-md shadow-sm group-hover:scale-105 transition-transform duration-300"
          />
          <div class="flex flex-col leading-tight">
            <span
              class="text-lg sm:text-xl font-extrabold text-blue-700 tracking-tight group-hover:text-blue-800"
            >
              Shahin Tech
            </span>
            <span class="text-xs text-gray-500 uppercase tracking-wide">
              Smart Education System
            </span>
          </div>
        </a>

        <nav class="hidden md:flex space-x-6 text-gray-600 font-medium">
          <a href="/" class="hover:text-blue-600">Home</a>
          <a href="/admission.html" class="text-blue-600 font-semibold"
            >Admission</a
          >
        </nav>
      </div>
    </header>

    <!-- Form Section -->
    <section class="pt-28 pb-20">
      <div
        class="max-w-5xl mx-auto bg-white/70 backdrop-blur-md rounded-3xl shadow-xl p-8 md:p-14 border border-blue-100"
      >
        <h2
          class="text-3xl md:text-4xl font-bold text-center text-gray-800 mb-10"
        >
          School Registration Form
        </h2>

        <form id="academyForm" class="grid md:grid-cols-2 gap-8">
          <!-- Academy Name -->
          <div class="input-group">
            <input
              type="text"
              id="academy_name"
              name="academy_name"
              required
              placeholder=" "
              class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
            />
            <label for="academy_name" class="input-label">Academy Name</label>
          </div>

          <!-- Short Name -->
          <div class="input-group">
            <input
              type="text"
              id="short_name"
              name="short_name"
              required
              placeholder=" "
              class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
            />
            <label for="short_name" class="input-label">Short Name</label>
          </div>

          <!-- EIIN -->
          <div class="input-group">
            <input
              type="text"
              id="eiin"
              name="eiin"
              required
              placeholder=" "
              class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
            />
            <label for="eiin" class="input-label">EIIN Number</label>
          </div>

          <!-- Email -->
          <div class="input-group">
            <input
              type="email"
              id="email"
              name="email"
              required
              placeholder=" "
              class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
            />
            <label for="email" class="input-label">Email Address</label>
          </div>

          <!-- Phone -->
          <div class="input-group">
            <input
              type="tel"
              id="phone"
              name="phone"
              required
              placeholder=" "
              class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
            />
            <label for="phone" class="input-label">Phone Number</label>
          </div>

          <!-- Helpline Number -->
          <div class="input-group">
            <input
              type="tel"
              id="helpline_number"
              name="helpline_number"
              required
              placeholder=" "
              class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
            />
            <label for="helpline_number" class="input-label"
              >Helpline Number</label
            >
          </div>

          <!-- Established Year -->
          <div class="input-group">
            <input
              type="number"
              id="established_year"
              name="established_year"
              min="1900"
              max="2099"
              required
              placeholder=" "
              class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
            />
            <label for="established_year" class="input-label"
              >Established Year</label
            >
          </div>

          <!-- Bank Account -->
          <div class="input-group">
            <input
              type="text"
              id="bank_account"
              name="bank_account"
              required
              placeholder=" "
              class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
            />
            <label for="bank_account" class="input-label"
              >Bank Account Number</label
            >
          </div>

          <!-- Address -->
          <div class="input-group md:col-span-2">
            <textarea
              id="address"
              name="address"
              rows="3"
              required
              placeholder=" "
              class="w-full p-2 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
            ></textarea>
            <label for="address" class="input-label">Address</label>
          </div>

          <!-- Logo Upload -->
          <div>
            <label
              for="logo"
              class="block text-gray-700 font-medium mb-2 text-sm"
              >Upload Logo (JPG/PNG, Max 500KB)</label
            >
            <input
              type="file"
              id="logo"
              name="logo"
              accept=".jpg, .jpeg, .png"
              class="w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
            />
            <div id="logoPreview" class="mt-4 hidden">
              <p class="text-sm text-gray-600 mb-2 font-medium">Preview:</p>
              <img
                id="previewLogo"
                class="h-20 w-20 object-cover rounded-lg shadow border border-gray-200"
                alt="Logo Preview"
              />
            </div>
            <p id="logoError" class="text-red-500 text-sm mt-2 hidden"></p>
          </div>

          <!-- Icon Upload -->
          <div>
            <label
              for="icon"
              class="block text-gray-700 font-medium mb-2 text-sm"
              >Upload Icon (JPG/PNG, Max 200KB)</label
            >
            <input
              type="file"
              id="icon"
              name="icon"
              accept=".jpg, .jpeg, .png"
              class="w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
            />
            <div id="iconPreview" class="mt-4 hidden">
              <p class="text-sm text-gray-600 mb-2 font-medium">Preview:</p>
              <img
                id="previewIcon"
                class="h-20 w-20 object-cover rounded-lg shadow border border-gray-200"
                alt="Icon Preview"
              />
            </div>
            <p id="iconError" class="text-red-500 text-sm mt-2 hidden"></p>
          </div>

          <!-- Submit Button -->
          <div class="md:col-span-2 text-center mt-6">
            <button
              type="submit"
              class="bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-10 py-4 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-200"
            >
              Register Academy
            </button>
          </div>
        </form>
      </div>
    </section>

    <script>
      // Logo + Icon preview with validation
      function handleImagePreview(inputId, previewId, errorId, maxSizeKB) {
        const input = document.getElementById(inputId);
        const previewDiv = document.getElementById(previewId);
        const previewImg = previewDiv.querySelector("img");
        const errorMsg = document.getElementById(errorId);

        input.addEventListener("change", function () {
          const file = this.files[0];
          errorMsg.classList.add("hidden");
          previewDiv.classList.add("hidden");

          if (file) {
            const validTypes = ["image/jpeg", "image/png"];
            const maxSize = maxSizeKB * 1024;

            if (!validTypes.includes(file.type)) {
              errorMsg.textContent = "Only JPG and PNG files are allowed.";
              errorMsg.classList.remove("hidden");
              this.value = "";
              return;
            }

            if (file.size > maxSize) {
              errorMsg.textContent = `File size must be less than ${maxSizeKB}KB.`;
              errorMsg.classList.remove("hidden");
              this.value = "";
              return;
            }

            const reader = new FileReader();
            reader.onload = (e) => {
              previewImg.src = e.target.result;
              previewDiv.classList.remove("hidden");
            };
            reader.readAsDataURL(file);
          }
        });
      }

      handleImagePreview("logo", "logoPreview", "logoError", 500);
      handleImagePreview("icon", "iconPreview", "iconError", 200);

      // Form Submission
      document
        .getElementById("academyForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          const formData = new FormData(this);
          console.log(...formData);

          const data = {};

          formData.forEach((value, key) => {
            if (value instanceof File) {
              data[key] = value.name;
            } else {
              data[key] = value;
            }
          });

          console.log("Form Data Submitted:", data);
          alert("Academy registered successfully! (Check console for data)");
        });
    </script>
  </body>
</html>
